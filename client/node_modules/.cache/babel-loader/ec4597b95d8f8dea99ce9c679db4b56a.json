{"ast":null,"code":"import { ShopActionTypes } from \"./shop.types\";\nimport { firestore, convertCollectionsSnapshotToMap } from \"../../firebase/firebase.utils\";\nexport const updateCollections = collectionsMap => ({\n  type: ShopActionTypes.UPDATE_COLLECTION,\n  payload: collectionsMap\n});\nexport const updateCollectionsStart = () => ({\n  id: ShopActionTypes.UPDATE_COLLECTION_START\n});\nexport const updateCollectionSuccess = data => ({\n  id: ShopActionTypes.UPDATE_COLLECTION_SUCCESS,\n  payload: data\n});\nexport const updateCollectionFailure = data => ({\n  id: ShopActionTypes.UPDATE_COLLECTION_FAIL,\n  error: data\n});\nexport const updateCollectionAsync = () => {\n  return dispatch => {\n    const collectionRef = firestore.collection('Collections');\n    updateCollectionsStart();\n    collectionRef.get().then(async snapshot => {\n      const collections = await convertCollectionsSnapshotToMap(snapshot);\n      updateCollectionSuccess(collections);\n    }).catch(err => updateCollectionFailure(err));\n    collectionRef.onSnapshot(async snapshot => {\n      const collectionItems = await convertCollectionsSnapshotToMap(snapshot);\n      this.props.updateCollections(collectionItems);\n      this.setState({\n        loading: false\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Predator/Documents/E-Commerce/src/Redux/Shop/shop.actions.js"],"names":["ShopActionTypes","firestore","convertCollectionsSnapshotToMap","updateCollections","collectionsMap","type","UPDATE_COLLECTION","payload","updateCollectionsStart","id","UPDATE_COLLECTION_START","updateCollectionSuccess","data","UPDATE_COLLECTION_SUCCESS","updateCollectionFailure","UPDATE_COLLECTION_FAIL","error","updateCollectionAsync","dispatch","collectionRef","collection","get","then","snapshot","collections","catch","err","onSnapshot","collectionItems","props","setState","loading"],"mappings":"AAAA,SAASA,eAAT,QAAgC,cAAhC;AACA,SAASC,SAAT,EAAoBC,+BAApB,QAA2D,+BAA3D;AAEA,OAAO,MAAMC,iBAAiB,GAAIC,cAAD,KAAqB;AAClDC,EAAAA,IAAI,EAAIL,eAAe,CAACM,iBAD0B;AAElDC,EAAAA,OAAO,EAAGH;AAFwC,CAArB,CAA1B;AAKP,OAAO,MAAMI,sBAAsB,GAAG,OAAO;AACzCC,EAAAA,EAAE,EAAGT,eAAe,CAACU;AADoB,CAAP,CAA/B;AAKP,OAAO,MAAMC,uBAAuB,GAAIC,IAAD,KAAW;AAC1CH,EAAAA,EAAE,EAAET,eAAe,CAACa,yBADsB;AAE1CN,EAAAA,OAAO,EAAGK;AAFgC,CAAX,CAAhC;AAKP,OAAO,MAAME,uBAAuB,GAAIF,IAAD,KAAW;AAC9CH,EAAAA,EAAE,EAAET,eAAe,CAACe,sBAD0B;AAE9CC,EAAAA,KAAK,EAAGJ;AAFsC,CAAX,CAAhC;AAMP,OAAO,MAAMK,qBAAqB,GAAG,MAAM;AACvC,SAAQC,QAAD,IAAc;AAEjB,UAAMC,aAAa,GAAGlB,SAAS,CAACmB,UAAV,CAAqB,aAArB,CAAtB;AACAZ,IAAAA,sBAAsB;AAEtBW,IAAAA,aAAa,CAACE,GAAd,GAAoBC,IAApB,CAAyB,MAAOC,QAAP,IAAmB;AACxC,YAAMC,WAAW,GAAG,MAAMtB,+BAA+B,CAACqB,QAAD,CAAzD;AACAZ,MAAAA,uBAAuB,CAACa,WAAD,CAAvB;AACH,KAHD,EAGGC,KAHH,CAGSC,GAAG,IAAIZ,uBAAuB,CAACY,GAAD,CAHvC;AAKAP,IAAAA,aAAa,CAACQ,UAAd,CAAyB,MAAMJ,QAAN,IAAkB;AACvC,YAAMK,eAAe,GAAG,MAAM1B,+BAA+B,CAACqB,QAAD,CAA7D;AACA,WAAKM,KAAL,CAAW1B,iBAAX,CAA6ByB,eAA7B;AACA,WAAKE,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAG;AAAZ,OAAd;AAEH,KALD;AAMH,GAhBD;AAiBH,CAlBM","sourcesContent":["import { ShopActionTypes } from \"./shop.types\";\r\nimport { firestore, convertCollectionsSnapshotToMap } from \"../../firebase/firebase.utils\";\r\n\r\nexport const updateCollections = (collectionsMap) => ({\r\n    type :  ShopActionTypes.UPDATE_COLLECTION,\r\n    payload : collectionsMap\r\n});\r\n\r\nexport const updateCollectionsStart = () => ({\r\n    id : ShopActionTypes.UPDATE_COLLECTION_START\r\n});\r\n\r\n\r\nexport const updateCollectionSuccess = (data) => ({\r\n        id: ShopActionTypes.UPDATE_COLLECTION_SUCCESS,\r\n        payload : data\r\n});\r\n\r\nexport const updateCollectionFailure = (data) => ({\r\n    id: ShopActionTypes.UPDATE_COLLECTION_FAIL,\r\n    error : data\r\n});\r\n\r\n\r\nexport const updateCollectionAsync = () => {\r\n    return (dispatch) => {\r\n\r\n        const collectionRef = firestore.collection('Collections');\r\n        updateCollectionsStart();\r\n\r\n        collectionRef.get().then(async (snapshot) =>{\r\n            const collections = await convertCollectionsSnapshotToMap(snapshot);\r\n            updateCollectionSuccess(collections);\r\n        }).catch(err => updateCollectionFailure(err));\r\n\r\n        collectionRef.onSnapshot(async snapshot => {\r\n            const collectionItems = await convertCollectionsSnapshotToMap(snapshot);\r\n            this.props.updateCollections(collectionItems);\r\n            this.setState({ loading : false});\r\n            \r\n        });\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}