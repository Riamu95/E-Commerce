{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Predator\\\\Documents\\\\E-Commerce\\\\src\\\\Components\\\\Collection-Preview\\\\CollectionPreview.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport CollectionItem from '../CollectionItem/CollectionItem.component';\nimport { useSelector } from 'react-redux';\nimport { withRouter, useHistory } from 'react-router-dom';\nimport { selectCollectionItems } from '../../Redux/Shop/shop.selector';\nimport { ReactComponent as LeftArrowLogo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../Assets/leftArrow.svg\";\nimport { ReactComponent as RightArrowLogo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../Assets/rightArrow.svg\";\nimport { CollectionPreviewContainer, TitleContainer, PreviewContainer, LeftArrowContainer, RightArrowContainer } from './Collection-Preview.styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport { LeftArrowLogo, RightArrowLogo };\n\nconst ColllectionPreview = ({\n  collectionCategory,\n  match\n}) => {\n  _s();\n\n  const shopItems = useSelector(state => selectCollectionItems(collectionCategory.title)(state));\n  const [index, setIndex] = useState({\n    startIndex: 0,\n    endIndex: 3\n  });\n  const [maxItems, setMaxItems] = useState(shopItems.items ? shopItems.items.length - 1 : 0);\n  const [previewCount, setPreviewCount] = useState(4);\n  const [title, setTitle] = useState(collectionCategory.title);\n  const history = useHistory();\n\n  const onArrowClick = direction => {\n    //max amount of items to preview on screen per category\n    const altpreviewCount = previewCount; //caluclate offset from array boundary to closest index based on direction\n\n    const diff = direction === 'right' ? maxItems - index.endIndex : (0 - index.startIndex) * -1; //if at array boundary do nothing\n\n    if (diff === 0) return null; //if array boundary is closer than the max amount 0of items we can display on screen\n    //move furthest index to render newest item\n    //move closest index to render the last item\n\n    diff <= altpreviewCount ? direction === 'left' ? setIndex({\n      endIndex: index.startIndex - 1,\n      startIndex: index.startIndex - diff\n    }) : setIndex({\n      startIndex: index.endIndex + 1,\n      endIndex: index.endIndex + diff\n    }) : direction === 'left' ? setIndex({\n      endIndex: index.startIndex - 1,\n      startIndex: index.startIndex - altpreviewCount\n    }) : setIndex({\n      startIndex: index.endIndex + 1,\n      endIndex: index.endIndex + altpreviewCount\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(CollectionPreviewContainer, {\n    children: [/*#__PURE__*/_jsxDEV(TitleContainer, {\n      onClick: () => history.push(`${match.url}/${title}`),\n      children: [\" \", title.toUpperCase()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PreviewContainer, {\n      children: [/*#__PURE__*/_jsxDEV(LeftArrowContainer, {\n        onClick: () => onArrowClick('left')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), //render only the indexs we have chosen max of 4\n      shopItems.items.filter((item, idx) => idx >= index.startIndex && idx <= index.endIndex).map(item => /*#__PURE__*/_jsxDEV(CollectionItem, { ...item\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(RightArrowContainer, {\n        onClick: () => onArrowClick('right')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ColllectionPreview, \"JRg91zuaXaRi9ONSUs8KD4SKlWk=\", false, function () {\n  return [useSelector, useHistory];\n});\n\n_c = ColllectionPreview;\nexport default _c2 = withRouter(ColllectionPreview);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ColllectionPreview\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/Predator/Documents/E-Commerce/src/Components/Collection-Preview/CollectionPreview.component.js"],"names":["React","useState","CollectionItem","useSelector","withRouter","useHistory","selectCollectionItems","CollectionPreviewContainer","TitleContainer","PreviewContainer","LeftArrowContainer","RightArrowContainer","LeftArrowLogo","RightArrowLogo","ColllectionPreview","collectionCategory","match","shopItems","state","title","index","setIndex","startIndex","endIndex","maxItems","setMaxItems","items","length","previewCount","setPreviewCount","setTitle","history","onArrowClick","direction","altpreviewCount","diff","push","url","toUpperCase","filter","item","idx","map","id"],"mappings":"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","sourcesContent":["  import React, { useState } from 'react';\r\nimport CollectionItem from '../CollectionItem/CollectionItem.component';\r\nimport { useSelector } from 'react-redux';\r\nimport { withRouter, useHistory } from 'react-router-dom'; \r\nimport {selectCollectionItems} from '../../Redux/Shop/shop.selector';\r\nimport { ReactComponent as LeftArrowLogo} from '../../Assets/leftArrow.svg';\r\nimport { ReactComponent as RightArrowLogo} from '../../Assets/rightArrow.svg';\r\nimport { CollectionPreviewContainer, TitleContainer , PreviewContainer, LeftArrowContainer, RightArrowContainer} from './Collection-Preview.styles';\r\nexport  { LeftArrowLogo, RightArrowLogo };\r\n\r\nconst ColllectionPreview = ({ collectionCategory , match}) => \r\n{\r\n    const shopItems = useSelector((state) => selectCollectionItems(collectionCategory.title)(state))\r\n    const [index, setIndex] = useState({\r\n        startIndex : 0,\r\n        endIndex : 3\r\n    });\r\n  \r\n    const [maxItems, setMaxItems] = useState(shopItems.items?  shopItems.items.length -1 : 0);\r\n    const [previewCount, setPreviewCount] = useState(4);\r\n    const [title, setTitle] = useState(collectionCategory.title);\r\n    const history = useHistory();\r\n\r\n    const onArrowClick = (direction) => {\r\n        //max amount of items to preview on screen per category\r\n        const altpreviewCount = previewCount;\r\n        //caluclate offset from array boundary to closest index based on direction\r\n        const diff = direction  === 'right' ? (maxItems - index.endIndex) :  ((0 - index.startIndex) * -1);\r\n        //if at array boundary do nothing\r\n        if(diff === 0)\r\n            return null;\r\n            //if array boundary is closer than the max amount 0of items we can display on screen\r\n            //move furthest index to render newest item\r\n            //move closest index to render the last item\r\n            diff <= altpreviewCount ?\r\n                direction === 'left' ?  setIndex({ endIndex : index.startIndex - 1, startIndex : index.startIndex - diff}) :\r\n                setIndex({ startIndex :index.endIndex + 1, endIndex : index.endIndex + diff})\r\n            :\r\n                direction === 'left' ?  setIndex({ endIndex : index.startIndex - 1, startIndex : index.startIndex - altpreviewCount}) :\r\n               setIndex({ startIndex : index.endIndex + 1, endIndex : index.endIndex + altpreviewCount})\r\n\r\n    };\r\n\r\n\r\n    return(\r\n        <CollectionPreviewContainer> \r\n            <TitleContainer  onClick={ () => history.push(`${match.url}/${title}`)}> {title.toUpperCase()}</TitleContainer>\r\n            <PreviewContainer>\r\n                <LeftArrowContainer onClick={() => onArrowClick('left')}/>\r\n               {                                          //render only the indexs we have chosen max of 4\r\n                    shopItems.items.filter((item, idx) => (idx >= index.startIndex && idx <= index.endIndex) )\r\n                    .map((item) => (\r\n                        <CollectionItem key={item.id} {...item} /> \r\n                    ))\r\n                }\r\n                <RightArrowContainer onClick={() => onArrowClick('right')}/>\r\n            </PreviewContainer>\r\n        </CollectionPreviewContainer>\r\n    );\r\n\r\n};\r\n\r\nexport default withRouter(ColllectionPreview);"]},"metadata":{},"sourceType":"module"}